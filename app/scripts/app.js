/**
Gentle app definition.

Modules are registered here, along with their positioning in the layout.

The app is stored in `window.gentle` for global access.

@class App
@extends EventEmitter, Gentle
**/

require(
    ['jquery', 'models/gentle', 'views/layout', 'models/sequence', 'graphics/sequence_canvas', 'domReady'], 
    function($, Gentle, Layout, Sequence, SequenceCanvas, domReady) {
  
  // Creates a globally-accessible new instance of the Gentle Class
  window.gentle = new Gentle({
    layout: new Layout()
  });

  domReady(function() {
    // Register an instance of the Canvas module as View
    gentle.registerModuleInLayout(SequenceCanvas, {type: 'displayMode'});

    // Adds a new sequence as the current sequence
    gentle.currentSequence = new Sequence('ATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGCATTTACGATTTACGATTTTAGGCCCAAAATTTGC');

    // Notifies everybody that we are ready to roll
    gentle.triggerReady();
  });
});